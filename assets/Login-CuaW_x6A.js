import{_ as g,r as n,b as u,e as a,w as h,f as y,g as d,v as p,t as c,u as b,o as v}from"./index-BgBYIPit.js";import{a as w}from"./index-B9ygI19o.js";const x={class:"admin-wrapper"},k={class:"admin-box"},V={class:"input-group"},B={class:"input-group"},L=["disabled"],S={key:0,class:"error"},q={__name:"Login",setup(D){const m=b(),r=n(""),l=n(""),o=n(!1),s=n(""),_=async()=>{o.value=!0,s.value="";try{const i=await w.post("/api/auth/login",{username:r.value,password:l.value,type:"admin"}),{code:e,data:t,message:f}=i.data;e===200?(localStorage.setItem("admin-token",t.token),m.push("/admin/dashboard")):s.value=f}catch{s.value="连接服务器失败"}finally{o.value=!1}};return(i,e)=>(v(),u("div",x,[a("div",k,[e[2]||(e[2]=a("h2",null,"PuppyFit 管理后台",-1)),a("form",{onSubmit:h(_,["prevent"])},[a("div",V,[d(a("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>r.value=t),type:"text",placeholder:"管理员账号",required:""},null,512),[[p,r.value]])]),a("div",B,[d(a("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>l.value=t),type:"password",placeholder:"密码",required:""},null,512),[[p,l.value]])]),a("button",{type:"submit",disabled:o.value},c(o.value?"登录中...":"进入后台"),9,L),s.value?(v(),u("p",S,c(s.value),1)):y("",!0)],32)])]))}},N=g(q,[["__scopeId","data-v-17d74061"]]);export{N as default};
