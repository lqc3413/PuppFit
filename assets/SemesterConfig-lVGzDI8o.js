import{_ as g,r as v,c as k,i as C,b as o,o as l,e as s,f as _,x,t as i,F as w,k as V,n as S,w as b,g as p,v as c}from"./index-BgBYIPit.js";import{a as f}from"./index-B9ygI19o.js";const M={class:"page-container"},$={class:"page-header"},q={key:0,class:"current-box"},B={class:"current-name"},N={class:"current-dates"},U={class:"list-section"},A={class:"semester-list"},F={class:"semester-info"},T={class:"semester-name"},z={class:"semester-dates"},E={class:"semester-actions"},I={key:0,class:"current-tag"},L=["onClick"],j={class:"modal-box"},G={class:"form-group"},H={class:"form-row"},J={class:"form-group"},K={class:"form-group"},O={class:"modal-actions"},P={__name:"SemesterConfig",setup(Q){const u=v([]),d=v(!1),a=v({name:"",startDate:"",endDate:""}),r=k(()=>u.value.find(n=>n.isCurrent)),m=async()=>{const n=await f.get("/api/admin/semesters");n.data.code===200&&(u.value=n.data.data)},y=async n=>{await f.post("/api/admin/semester/set-current",{id:n.id}),m()},D=async()=>{await f.post("/api/admin/semester/add",a.value),d.value=!1,a.value={name:"",startDate:"",endDate:""},m()};return C(m),(n,t)=>(l(),o("div",M,[s("div",$,[t[7]||(t[7]=s("h2",{class:"page-title"},"å­¦æœŸé…ç½®",-1)),s("button",{class:"primary-btn",onClick:t[0]||(t[0]=e=>d.value=!0)},[...t[6]||(t[6]=[s("span",null,"â•",-1),x(" æ–°å¢å­¦æœŸ ",-1)])])]),r.value?(l(),o("div",q,[t[8]||(t[8]=s("div",{class:"current-label"},"ğŸ“… å½“å‰å­¦æœŸ",-1)),s("div",B,i(r.value.name),1),s("div",N,i(r.value.startDate)+" ~ "+i(r.value.endDate),1)])):_("",!0),s("div",U,[t[9]||(t[9]=s("h3",{class:"section-title"},"æ‰€æœ‰å­¦æœŸ",-1)),s("div",A,[(l(!0),o(w,null,V(u.value,e=>(l(),o("div",{key:e.id,class:S(["semester-item",{current:e.isCurrent}])},[s("div",F,[s("span",T,i(e.name),1),s("span",z,i(e.startDate)+" ~ "+i(e.endDate),1)]),s("div",E,[e.isCurrent?(l(),o("span",I,"å½“å‰")):(l(),o("button",{key:1,class:"set-current-btn",onClick:R=>y(e)}," è®¾ä¸ºå½“å‰ ",8,L))])],2))),128))])]),d.value?(l(),o("div",{key:1,class:"modal-overlay",onClick:t[5]||(t[5]=b(e=>d.value=!1,["self"]))},[s("div",j,[t[14]||(t[14]=s("h3",{class:"modal-title"},"æ–°å¢å­¦æœŸ",-1)),s("form",{onSubmit:b(D,["prevent"])},[s("div",G,[t[10]||(t[10]=s("label",null,"å­¦æœŸåç§° *",-1)),p(s("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>a.value.name=e),type:"text",placeholder:"å¦‚: 2025-2026å­¦å¹´ç¬¬äºŒå­¦æœŸ",required:""},null,512),[[c,a.value.name]])]),s("div",H,[s("div",J,[t[11]||(t[11]=s("label",null,"å¼€å§‹æ—¥æœŸ *",-1)),p(s("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>a.value.startDate=e),type:"date",required:""},null,512),[[c,a.value.startDate]])]),s("div",K,[t[12]||(t[12]=s("label",null,"ç»“æŸæ—¥æœŸ *",-1)),p(s("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>a.value.endDate=e),type:"date",required:""},null,512),[[c,a.value.endDate]])])]),s("div",O,[s("button",{type:"button",class:"cancel-btn",onClick:t[4]||(t[4]=e=>d.value=!1)},"å–æ¶ˆ"),t[13]||(t[13]=s("button",{type:"submit",class:"submit-btn"},"æ·»åŠ ",-1))])],32)])])):_("",!0)]))}},Y=g(P,[["__scopeId","data-v-9175d11d"]]);export{Y as default};
